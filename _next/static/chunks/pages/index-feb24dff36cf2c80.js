(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1474:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var i=a(7876),t=a(4232);let l=e=>{let{currentPage:s,totalPages:a,onPageChange:t}=e;return(0,i.jsxs)("div",{className:"pagination",children:[(0,i.jsx)("button",{onClick:()=>t(s-1),disabled:1===s,style:{visibility:1===s?"hidden":"visible"},children:(0,i.jsx)("i",{className:"fas fa-chevron-left"})}),(0,i.jsxs)("span",{children:[s," sur ",a]}),(0,i.jsx)("button",{onClick:()=>t(s+1),disabled:s===a,style:{visibility:s===a?"hidden":"visible"},children:(0,i.jsx)("i",{className:"fas fa-chevron-right"})})]})},r=e=>{let{title:s,products:a,description:r,disablePagination:c=!1,categories:n,data:o,shop:d}=e,[u,h]=(0,t.useState)(1),[m,g]=(0,t.useState)(null),p=(0,t.useRef)(null),x=a.filter(e=>e.shop_id===d.id);console.log("Products for shop.id:",d.id,x);let j=15*u,f=c?x:x.slice(j-15,j),v=Math.ceil(x.length/15),N=e=>{let s;let a=new Date;if("Express"===e)s=2;else if("Fast"===e)s=3;else{if("Normal"!==e)return"";s=4}let i=new Date(a.getTime()+864e5*s);return"".concat(i.toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"})," ").concat(i.getFullYear())};return(0,i.jsx)("section",{className:"products",id:"catalogue",children:(0,i.jsxs)("div",{className:"wrapper",children:[s&&(0,i.jsx)("h2",{children:s}),(0,i.jsx)("div",{className:"product-filters"}),(0,i.jsx)("div",{className:"product-list",ref:p,children:f.map(e=>{var s,a;return e.category_slug||e.category_id,(0,i.jsxs)("a",{href:"/".concat(e.slug),className:"product-item ".concat(e.bestseller?"best-seller":""),onMouseEnter:()=>g(e.slug),onMouseLeave:()=>g(null),children:[(0,i.jsxs)("span",{className:"best-wrap bg-main color-primary",children:["\uD83C\uDFC6 ",o.productBestsellerLabel]}),(0,i.jsx)("img",{src:m===e.slug&&(null===(s=e.images)||void 0===s?void 0:s[1])?e.images[1]:null===(a=e.images)||void 0===a?void 0:a[0],alt:e.title}),(0,i.jsx)("h3",{children:e.title}),(0,i.jsxs)("p",{className:"stock ".concat(e.stock.startsWith(o.productStockLowLabel)?"low":""),children:[(0,i.jsx)("span",{children:"â‹…"}),e.stock]}),(0,i.jsxs)("p",{className:"delivery",children:["Livraison estim\xe9e : ",N(e.delivery)]}),(0,i.jsx)("p",{className:"price"}),(0,i.jsx)("p",{children:e.discounted?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"initial-price",children:[e.discounted.toLocaleString(d.language,{minimumFractionDigits:2}),d.currency]}),(0,i.jsxs)("span",{className:"new-price color-primary",children:[e.price.toLocaleString(d.language,{minimumFractionDigits:2}),d.currency]})]}):"".concat(e.price.toLocaleString(d.language,{minimumFractionDigits:2})).concat(d.currency)})]},e.id)})}),!c&&x.length>15&&(0,i.jsx)(l,{currentPage:u,totalPages:v,onPageChange:e=>{h(e),window.scrollTo({top:p.current.offsetTop-100,behavior:"smooth"})}})]})})}},2936:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9287)}])},9287:(e,s,a)=>{"use strict";a.r(s),a.d(s,{__N_SSG:()=>d,default:()=>u});var i=a(7876),t=a(4232),l=a(636),r=a(6790),c=a(1474),n=a(741),o=a(1759),d=!0;let u=e=>{let{data:s,shop:a,products:d,reviews:u}=e,[h,m]=(0,t.useState)(0),g=(0,t.useRef)(null);return(0,t.useEffect)(()=>{m((JSON.parse(localStorage.getItem("cart"))||[]).length)},[]),(0,t.useEffect)(()=>{g.current&&(g.current.playbackRate=.66)},[]),console.log("Shop logo:",a.logo),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(o.A,{name:a.name,domain:a.domain,title:"".concat(a.name," - ").concat(s.heroTitle)}),(0,i.jsxs)("main",{children:[(0,i.jsx)(l.A,{data:s,shop:a,reviews:u}),(0,i.jsxs)("section",{className:"hero",children:[(0,i.jsx)("h1",{children:s.heroTitle}),(0,i.jsx)("h3",{children:s.heroDesc}),(0,i.jsx)("div",{className:"filter"}),(0,i.jsx)("img",{src:s.heroMedia,alt:"Hero",className:"hero-image"})]}),(0,i.jsx)(c.A,{products:d,data:s,shop:a}),(0,i.jsx)(n.A,{data:s,shop:a,reviews:u})]}),(0,i.jsx)(r.A,{shop:a,data:s})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[938,376,636,593,792],()=>s(2936)),_N_E=e.O()}]);